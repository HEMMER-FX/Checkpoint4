{% extends 'base.html.twig' %}

{% block title %} {{ user.email }} {% endblock %}

{% block body %}
    <h1 class="text-center"> {% trans %}Détails de l'utilisateur {% endtrans %} </h1>

    <table class="wrapper border border-2">
        <tbody>
        {% if isAdmin(user) %}
            <tr>
                <th class="px-5 py-2">Id</th>
                <td>{{ user.id }}</td>
            </tr>
        {% endif %}
            
            <tr>
                <th class="px-5 py-2">Email</th>
                <td>{{ user.email }}</td>
            </tr>

            {% if isAdmin(user) %}
                <tr>
                    <th class="px-5 py-2">Roles</th>
                    <td>
                        {% if user.roles == ["ROLE_USER"] %}
                            {% trans %} Utilisateur {% endtrans %}
                        {% elseif user.roles == ["ROLE_ADMIN"] %}
                            <span class="text-danger text-uppercase">{% trans %} Administrateur {% endtrans %}</span>
                            {% else %}
                            <span class="text-danger text-uppercase">{% trans %} Admin ET Utilisateur {% endtrans %}</span>
                        {% endif %}
                    </td>
                </tr>
            {% endif %}

            <tr>
                <th class="px-5 py-2">{% trans %}Mot de passe{% endtrans %}</th>
                <td>**********</td>
            </tr>

            {% if isAdmin(user) %}
                <tr>
                    <th class="px-5 py-2">{% trans %}Email Vérifié ?{% endtrans %}</th>
                    <td>
                    {% if user.isVerified == "Yes" %}
                        <span class="text-success text-uppercase"> Yes </span>
                    {% else %}
                        <span class="text-danger text-uppercase"> No </span>
                    {% endif %}
                    </td>
                </tr>
            {% endif %}
                
            <tr>
                <th class="px-5 py-2">{% trans %}Prénom{% endtrans %}</th>
                <td>{{ user.firstName }}</td>
            </tr>
            <tr>
                <th class="px-5 py-2">{% trans %}Nom{% endtrans %}</th>
                <td>{{ user.lastName }}</td>
            </tr>
            <tr>
                <th class="px-5 py-2">{% trans %}Date de création{% endtrans %}</th>
                <td>{{ user.createdAt ? user.createdAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
        </tbody>
    </table>
    
    <div class="d-flex justify-content-center">
    {% if isAdmin(user) %}
        <a class="d-inline my-2 mx-2 btn btn-primary" href="{{ path('admin_user_index') }}">{% trans %}Retour à la liste{% endtrans %}</a>
    {% else %}
        <a class="d-inline my-2 mx-2 btn btn-primary" href="{{ path('home') }}">{% trans %}Retour à la liste{% endtrans %}</a>
    {% endif %}
        <a class="d-inline my-2 mx-2 btn btn-warning" href="{{ path('user_edit', {'id': user.id}) }}">{% trans %}Modifier{% endtrans %}</a>
        {{ include('user/_delete_form.html.twig') }}
    </div>

{% endblock %}
